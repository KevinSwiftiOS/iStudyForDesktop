/**
 * angular-libphonenumber
 * Nathan Hammond's libphonenumber ported to an angular filter
 * @version v0.0.4
 * @link https://github.com/cwill747/angular-libphonenumber
 * @license Apache-2.0
 */
!function(e){e.module("cwill747.phonenumber",[]).directive("phoneNumber",["$log",function(e){function r(e){return e?e.replace(/([^0-9|+])/g,""):e}function t(r,t){var n=r;try{n=phoneUtils.formatAsTyped(r,t)}catch(o){e.debug(o)}return n}return{restrict:"A",require:"?ngModel",scope:{countryCode:"="},controllerAs:"",controller:function(){this.countryCode=this.countryCode||"us"},link:function(n,o,u,i){function c(e){return i.$isEmpty(e)?e:t(r(e),n.countryCode)}function s(e){if(i.$isEmpty(e))return e;var o=r(e),u="";return u=o.length>1?t(o,n.countryCode):o,i.$viewValue!==u&&(i.$setViewValue(u),i.$render()),r(u)}function l(r){var t=!1;try{t=phoneUtils.isValidNumberForRegion(r,n.countryCode)}catch(o){e.debug(o)}var u=i.$isEmpty(r)||t;return i.$setValidity("phoneNumber",u),r}n.$watch("countryCode",function(){i.$modelValue=i.$viewValue+" "}),i.$formatters.push(c),i.$formatters.push(l),i.$parsers.push(s),i.$parsers.push(l)}}}])}(angular);